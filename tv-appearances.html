<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/png" href="favicon.png">
  <title>MJ+ â€“ TV Appearances</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.jsdelivr.net/npm/hls.js@1"></script>
  <link rel="stylesheet" href="mobile.css?v=2" media="(max-width: 768px)">
  <style>
/* --- Animated Logo Glow --- */
@keyframes imgGlow {
  0%, 100% {
    filter: drop-shadow(0 0 6px rgba(255,255,255,0.6))
            drop-shadow(0 0 12px rgba(255,255,255,0.3));
  }
  50% {
    filter: drop-shadow(0 0 16px rgba(255,255,255,0.9))
            drop-shadow(0 0 30px rgba(255,255,255,0.6));
  }
}
header .logo { animation: imgGlow 3.5s ease-in-out infinite; transition: filter 0.3s ease; }

:root{
  --accent:#e50914; --spaceX:clamp(14px,3vw,44px); --spaceY:clamp(12px,2.2vw,28px);
  --logoH:clamp(70px,9vh,110px); --navFS:clamp(11px,.95vw,15px); --h2FS:clamp(16px,1.2vw,20px);
  --tileW:clamp(120px,10vw,170px); --gap:clamp(10px,1.2vw,16px);
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{height:100%}
body{margin:0;background:#000;color:#fff;font:clamp(13px,1vw,16px)/1.45 system-ui,-apple-system,Segoe UI,Roboto,sans-serif;overflow-x:hidden}
a{color:inherit;text-decoration:none} :focus,:focus-visible{outline:0}

header{
  position:sticky;top:0;z-index:20;display:flex;align-items:center;justify-content:space-between;
  padding:10px var(--spaceX);background:#000d;border-bottom:1px solid #ffffff14;
  backdrop-filter:saturate(1.15) blur(4px)
}
.logo{height:var(--logoH);display:block}
nav{display:flex;gap:clamp(8px,.8vw,12px);align-items:center;white-space:nowrap}
nav a, .nav-btn{
  color:#fff;font-size:var(--navFS);text-transform:uppercase;font-weight:800;letter-spacing:.04em;
  padding:4px 8px;border-radius:6px;transition:transform .16s,color .16s,text-shadow .16s;background:none;border:0;cursor:pointer
}
nav a:hover,nav a:focus-visible,.nav-btn:hover,.nav-btn:focus-visible{
  transform:scale(1.06);color:var(--accent);text-shadow:0 0 10px rgba(229,9,20,.55)
}
nav a.active{color:var(--accent);text-shadow:0 0 10px rgba(229,9,20,.55)}
.menu-spacer{height:8px}

/* Section + Grid */
.section{padding:10px var(--spaceX)}
.section h2{font-size:var(--h2FS);margin:0 0 10px 6px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(var(--tileW),1fr));gap:var(--gap)}
.tile{position:relative;cursor:pointer;background:none;border:0;padding:0;transition:transform .18s ease;width:var(--tileW)}
.tile img{width:100%;aspect-ratio:2/3;object-fit:cover;border-radius:12px;display:block;box-shadow:0 2px 6px #000a}
.tile::after{content:"";position:absolute;inset:-10px;border-radius:14px;
  background:radial-gradient(ellipse at center, rgba(229,9,20,.35) 0%, rgba(229,9,20,.18) 36%, transparent 70%);
  filter:blur(14px);opacity:0;transition:opacity .18s}
.tile:hover,.tile:focus-visible{transform:scale(1.06)}
.tile:hover::after,.tile:focus-visible::after{opacity:1}

/* Badge (rot) */
.badge{
  position:absolute;top:6px;right:6px;font-weight:900;font-size:11px;letter-spacing:.06em;
  padding:4px 6px;border-radius:8px;background:#e50914;color:#fff;box-shadow:0 2px 10px #000c
}

/* Mobile Header + Dropdown-Navigation */
@media (max-width: 768px){
  header{
    position: sticky; top:0; z-index:20;
    display:flex; flex-direction:column; align-items:center; gap:8px;
    padding:10px 16px;
  }
  header .logo{height:64px; margin:4px auto 0 auto; display:block;}
  .menu-toggle{
    display:block;background:#000;color:#fff;border:1px solid #ffffff33;border-radius:10px;
    padding:10px 14px;font-weight:800;letter-spacing:.04em;cursor:pointer;width:100%;max-width:520px;text-align:center;
  }
  header nav{
    width:100%;max-width:520px;margin:0 auto;display:block;overflow:hidden;max-height:0;
    transition:max-height .28s ease;border-radius:12px;border:1px solid #ffffff14;background:#000a;
  }
  header.nav-open nav{ max-height:60vh; }
  header nav a, header nav .nav-btn{
    display:block;width:100%;text-align:center;padding:12px 14px;border-bottom:1px solid #ffffff14;
    white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
  }
  header nav a:last-child, header nav .nav-btn:last-child{ border-bottom:0; }
  html,body{ overflow-x:hidden; }
}
  </style>
</head>
<body data-page="tv">
  <header>
    <img src="logo.png" alt="MJ+ Logo" class="logo">
    <nav aria-label="Main menu">
      <a href="home.html" tabindex="0" data-nav>Home</a>
      <a href="live.html" tabindex="0" data-nav>Live</a>
      <a href="tv-appearances.html" class="active" tabindex="0">TV Appearances</a>
      <a href="short-films.html" tabindex="0" data-nav>Short Films</a>
      <a href="jacksons.html" tabindex="0" data-nav>The Jacksons</a>
      <a href="feedback.html" tabindex="0" data-nav>Feedback</a>
    </nav>
  </header>
  <div class="menu-spacer"></div>

  <section class="section">
    <h2>TV Appearances</h2>
    <div id="grid" class="grid" aria-live="polite"></div>
  </section>

  <!-- Load order matters: player -> catalog -> page logic -->
  <script src="player.js?v=1.0.3"></script>
  <script src="catalog.js?v=1.0.3"></script>

  <script>
    (function(){
      const grid = document.getElementById('grid');

      function isTVCategory(cat){
        if (!cat) return false;
        if (Array.isArray(cat)) return cat.map(s=>String(s).toLowerCase()).includes('tv') || cat.map(s=>String(s).toLowerCase()).includes('interviews');
        const c = String(cat).toLowerCase();
        return c === 'tv' || c === 'interviews';
      }

      function tvItems(){
        return (window.catalog || []).filter(x => isTVCategory(x.category));
      }

      function tile(item){
        const b = document.createElement('button');
        b.className = 'tile';
        b.type = 'button';
        b.title = item.title || '';
        b.innerHTML = `
          <img src="${item.poster || ''}" alt="${item.title || ''}" onerror="this.style.opacity=.2">
          <span class="badge">TV</span>
        `;
        b.addEventListener('click', ()=> window.MJPLUS?.openPoster?.(item,false,'tv'));
        b.addEventListener('keydown',(e)=>{ if(['Enter','OK','Select',' '].includes(e.key)){ e.preventDefault(); b.click(); }});
        return b;
      }

      function render(){
        grid.innerHTML = '';
        tvItems().forEach(it => grid.appendChild(tile(it)));
        setTimeout(()=> grid.querySelector('.tile')?.focus(), 40);
      }

      render(); // catalog already loaded above
    })();
  </script>

  <script src="mobile-menu.js?v=1.0.0"></script>
  <script>
    // Search-Button (rot) initialisieren
    window.MJPLUS?.initSearchUI?.();
  </script>
</body>
</html>